{
  "middleware": ["ensureLoggedIn"],
  "path": "/api/applications",
  "routes": [
    {
      "path": "",
      "method": "get",
      "handler": "getApplications"
    },
    {
      "path": ":id",
      "method": "get",
      "handler": "getApplications"
    },
    {
      "path": "",
      "method": "post",
      "handler": "createApplication",
      "acl": {
        "role": "BORROWER"
      }
    },
    {
      "path": ":id/upload",
      "method": "put",
      "handler": "uploadDocs",
      "acl": {
        "role": "BORROWER"
      }
    },
    {
      "path": ":id/assign",
      "method": "post",
      "handler": "assignToLenders",
      "acl": {
        "role": "ADMIN"
      }
    },
    {
      "path": ":id/buyer/:status",
      "method": "post",
      "handler": "updateBuyerStatus",
      "acl": {
        "role": "BUYER"
      }
    },
    {
      "path": ":id/docs/:doc",
      "method": "get",
      "handler": "getDoc",
      "acl": {
        "role": ["ADMIN", "BUYER", "LENDER"]
      }
    },
    {
      "path": ":id/proposals",
      "method": "post",
      "handler": "submitProposal",
      "acl": {
        "role": "LENDER"
      }
    },
    {
      "path": ":id/lender/reject",
      "method": "delete",
      "handler": "lenderReject",
      "acl": {
        "role": "LENDER"
      }
    },
    {
      "path": "proposals/:id/approve",
      "method": "post",
      "handler": "createLoanAccount",
      "acl": {
        "role": "ADMIN"
      }
    }

  ]
}